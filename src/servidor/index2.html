<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Prueba Express</title>
    <script>
      function traducir(markupText, fileName) {
	      const url = 'http://localhost:3000/'
	      const data = {
		      text: markupText
		      fileName: fileName
		    }
	      console.log(data)
	      const request = {
		      method: 'POST', // PodrÃ­a ser GET
		      headers: {
			      'Content-Type': 'application/json',
			    },
		      body: JSON.stringify(data),
		    }
	      http = fetch(url, request)
	      http.then(
		      response => response.json()
		    ).then(
			    data => {
				    document.querySelector("#htmlCode").innerHTML = data.text
				  }
			  )
	    }
      document.addEventListener('DOMContentLoaded', function () {
	      const text = document.querySelector('#markupText')
	      const fileName = document.querySelector('#title')
	      document.querySelector('#markupForm').onsubmit = () => {
		      traducir(text.value, fileName.value)
		      return false;
		    }
	    }) 
    </script>
  </head>
  <body>
    <p>Texto MARKDOWN</p>
    <form action="POST" id='markupForm'>
      <textarea id='markupText'></textarea>
      <input type="text" id="title" name="title">
      <input type="submit" value="Enviar">
    </form>
    <div id='htmlCode'></div>
  </body>
</html>
